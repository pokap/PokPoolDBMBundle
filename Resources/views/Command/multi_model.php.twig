<?php

namespace {{ model_namespace }};

class {{ model_name }}
{
{% for name, refl in managers %}
    private ${{ name }};
{% endfor %}

    public function __construct()
    {
{% for name, refl in managers %}
        $this->{{ name }} = new {{ refl.namespace }}();
{% endfor %}
    }

{% for name, refl in managers %}
{% for method in refl.methods %} 
    public function {{ method.name }}({{ method.arguments|join(', ') }})
    {
{% if 'getter' == method.type %}
        return $this->{{ name }}->{{ method.name }}();
{% else %}
        $this->{{ name }}->{{ method.name }}({{ method.arguments|join(', ') }});

        return $this;
{% endif %}
    }
{% endfor %}
{% endfor %}
}
